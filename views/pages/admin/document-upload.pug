extends /views/templates/admin-base.pug

mixin menuLayer(items, name)
  ul
    each page of items 
      if page.type === 'page'
        - const pageIsActive = documentSource.split('path=')[1].includes(page.ref.replace('.json', ''));
        - const activeClass = pageIsActive ? 'active-page' : '';
        li(class=activeClass)
          a(href="/admin/editor?page=" + page.ref.replace('.json', ''))=page.name
      else 
        - const dropdownIsActive = documentSource.split('path=')[1].includes(page.ref);
        - const activeClass = dropdownIsActive ? ' active' : '';
        li(class="dropdown" + activeClass)
          div(class="dropdown-name")=page.name
          +menuLayer(page.subdirectory)

append styles 
  link(href="/assets/css/admin/generic-editor.css" rel="stylesheet")

append scripts
  script(src="/assets/js/admin/editor.js")
  script(src="/assets/js/admin/editor-loader.js")
  script(src="/assets/js/admin/generic-editor.js" defer)

block body
  div(id="editor-menu-and-body")
    nav(id="editor-nav-menu")
      h2(id="side-menu-title") Upload Page Select
      +menuLayer(documents)
    div(id="body")
      h2(id="editor-title")=documentName
      p #{documents}